class t{constructor(t){this._title=t.title,this._imageUrl=t.thumbnail,this._stock=t.stock,this._price=t.price,this._discountPercentage=t.discountPercentage,this._category=t.category,this._rating=t.rating}get title(){return this._title}get imageUrl(){return this._imageUrl}get stock(){return this._stock}get price(){return this._price}get discountPercentage(){return this._discountPercentage}get category(){return this._category}get rating(){return this._rating}getDiscountedPrice(){return parseFloat((this._price*(1-this._discountPercentage/100)).toFixed(2))}updateStock(t){t<0&&Math.abs(t)>this._stock?this._stock=0:(this._stock+=t,this._stock<0&&(this._stock=0))}}async function e(){let e=await fetch("https://dummyjson.com/products");return(await e.json()).products.map(e=>new t(e))}!async function(){try{let t=await e();!function(t){let e=document.getElementById("product-container");e&&(e.innerHTML="",t.forEach(t=>{let r=function(t){let e=document.getElementById("product-card-template");if(!e)throw Error("Product card template not found");let r=e.content.cloneNode(!0).firstElementChild,c=r.querySelector(".product-title");c&&(c.textContent=t.title);let o=r.querySelector(".product-image");o&&(o.src=t.imageUrl,o.alt=t.title);let i=r.querySelector(".product-stock");i&&(i.textContent=`Lagersaldo: ${t.stock}`);let n=r.querySelector(".product-discounted-price");n&&(n.textContent=`Rabatterat pris: $${t.getDiscountedPrice()}`);let s=r.querySelector(".add-to-cart");return s&&s.addEventListener("click",()=>{t.updateStock(-1),i&&(i.textContent=`Lagersaldo: ${t.stock}`)}),r}(t);e.appendChild(r)}))}(t)}catch(t){console.error("Error fetching products:",t)}}();
//# sourceMappingURL=FE24-JS2-MP2-Matti-Walli.ab5a3b8f.js.map
